<!-- “阿里灵杰”问天引擎电商搜索算法赛 -->
<!-- 电商搜索算法赛 -->
<!-- 2022-03-01 -->
<!-- <a target="_blank" href="https://www.zhihu.com/people/ashui233/">阿水</a>, <a target="_blank" href="https://www.zhihu.com/people/wang-he-13-93">鱼遇雨欲语与余</a>-->
<!-- <a href="https://tianchi.aliyun.com/competition/entrance/531946/introduction">比赛官网</a> -->


![](https://tianchi-public.oss-cn-hangzhou.aliyuncs.com/public/files/forum/164611999657774301646119988943.png)

## 比赛介绍

受疫情催化影响，近一年内全球电商及在线零售行业进入高速发展期。作为线上交易场景的重要购买入口，搜索行为背后是强烈的购买意愿，电商搜索质量的高低将直接决定最终的成交结果，因此在AI时代，如何通过构建智能搜索能力提升线上GMV转化成为了众多电商开发者的重要研究课题。**本次比赛由阿里云天池平台和问天引擎联合举办，诚邀社会各界开发者参与竞赛，共建AI未来。**


## 比赛内容

本次题目围绕电商领域搜索算法，开发者们可以通过基于阿里巴巴集团自研的高性能分布式搜索引擎问天引擎（提供高工程性能的电商智能搜索平台），可以快速迭代搜索算法，无需自主建设检索全链路环境。

 **本次评测的数据来自于淘宝搜索真实的业务场景，其中整个搜索商品集合按照商品的类别随机抽样保证了数据的多样性，搜索Query和相关的商品来自点击行为日志并通过模型+人工确认的方式完成校验保证了训练和测试数据的准确性。** 

比赛形式分为初赛和复赛两部分，分别从向量召回角度和精排模型角度让选手比拼算法模型。

- `初赛`：提供HA3环境，让选手PK向量召回模型的效果，选手拿到100万全量Doc和10万对Query-Doc相关训练集，自行训练向量召回模型。选手每次提交的内容为100万全量Doc通过模型转换的embedding（固定维度，如128）以及测试集1000条Query转换的embedding。我们通过回流数据，建向量索引，查询测试，给出评测指标（MRR@10，正确Doc排的位置越靠前分越高）。

- `复赛`：对于进入到复赛的选手开放精排模型的PK，选手需要在PAI上按照我们要求的模型格式训练精排模型。选手每次提交的内容除了初赛的Doc和Query的embedding，还包括训练好的精排模型。我们通过回流数据，建向量索引，查询测试（该阶段会做超时限制，防止选手无限制扩大模型复杂度），给出评测指标。

```mermaid
graph LR
    A{下载比赛数据} ==>|初赛| B(本地训练召回模型) 
    B ==> D(对Doc和Query进行编码) 
    D ==>E(手动上传)
    E ==>F{计算得分}

    A{下载比赛数据} ==>|复赛| C[云端训练召回模型] 
    C ==> G(对Doc和Query进行编码)
    G ==>F{计算得分}
```

## 比赛数据

### corpus.tsv

- 介绍：语料库，从淘宝商品搜索的标题数据随机抽取doc，量级约100万。
- 格式：`doc_id`从1开始编号的，`title`是是商品标题。

```
1 铂盛弹盖文艺保温杯学生男女情侣车载时尚英文锁扣不锈钢真空水杯
2 可爱虎子华为荣耀X30i手机壳荣耀x30防摔全包镜头honorx30max液态硅胶虎年情侣女卡通手机套插画呆萌个性创意
3 190色素色亚麻棉平纹布料 衬衫裙服装定制手工绣花面料 汇典亚麻
4 松尼合金木工开孔器实木门开锁孔木板圆形打空神器定位打孔钻头
5 微钩绿蝴蝶材料包非成品 赠送视频组装教程 需自备钩针染料
6 春秋薄绒黑色打底袜女外穿高腰显瘦大码胖mm纯棉踩脚一体连袜裤
7 New Balance/NB时尚长款过膝连帽保暖羽绒服女外套NCNPA/NPA46032
8 2021博洋高级l拉舍尔云毯结婚庆毛毯子冬季加厚保暖被子珊瑚
9 玉手牌平安无事牌天然翡翠a货男女款调节编织玉手链冰种玉石手串
10 欧货加绒拼接开叉纽扣烟管裤女潮2021秋季高腰显瘦九分直筒牛仔裤
```


### train.query.txt
- 介绍：训练集的query，训练集量级为10万。
- 格式：`query_id`从1开始编号，`query`是搜索日志中抽取的查询词。

```
1 unidays
2 溪木源樱花奶盖身体乳
3 除尘布袋工业
4 双层空气层针织布料
5 4812锂电
6 鈴木雨燕方向機總成
7 福特翼搏1.5l变速箱电脑模块
8 a4红格纸
9 岳普湖驴乃
10 婴儿口罩0到6月医用专用婴幼儿
```

### train.query.txt
- 介绍：训练集的query，训练集量级为10万。
- 格式：`query_id`从1开始编号，`query`是搜索日志中抽取的查询词。

```
1 unidays
2 溪木源樱花奶盖身体乳
3 除尘布袋工业
4 双层空气层针织布料
5 4812锂电
6 鈴木雨燕方向機總成
7 福特翼搏1.5l变速箱电脑模块
8 a4红格纸
9 岳普湖驴乃
10 婴儿口罩0到6月医用专用婴幼儿
```

### qrels.train.tsv
- 介绍：训练集的query与doc对应关系，训练集量级为10万。
- 格式：`query_id`和`doc_id`。数据来自于搜索点击日志，人工标注query和doc之间具备高相关性，训练集用来训练模型。

```
1 28
2 37
3 51
4 52
5 77
```

### dev.query.txt
- 介绍：测试集的query，测试集量级为1000。
- 格式：`query_id`和`query`，训练集id从1开始编号，测试集id从200001开始编号，query是搜索日志中抽取的查询词。

```
200001 鈴木雨燕方向機總成
200002 福特翼搏1.5l变速箱电脑模块
200003 a4红格纸
200004 岳普湖驴乃
200005 婴儿口罩0到6月医用专用婴幼儿
```

注：比赛数据文件列之间的分隔符均为tab符（\t）

## 赛程安排

本次大赛分为报名组队、初赛、复赛和决赛三个阶段，具体安排和要求如下：
- 报名组队：3月2日—4月10日
- 初赛阶段：3月2日—4月13日
- 复赛阶段：4月18日—5月18日
- 决赛答辩：6月1日

注意事项：

1. 初赛系统每天提供3次提交机会，系统进行实时评测并返回成绩，排行榜每小时进行更新，按照评测指标从高到低排序。排行榜将选择参赛队伍在本阶段的历史最优成绩进行排名展示。初赛排名前100名的参赛队伍将进入复赛，复赛名单将在4月15日18点前公布。
2. 复赛系统每天提供3次提交机会，系统进行实时评测并返回成绩，排行榜每小时进行更新。复赛需要在线上进行训练和预测，限制深度学习框架TensorFlow1.12。

## 相关资料