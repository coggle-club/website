<!-- Coggle 30 Days of ML（23年2月） -->
<!-- 30天入门数据竞赛 -->
<!-- 2023-02-01 -->
<!-- <a target="_blank" href="https://www.zhihu.com/people/ashui233/">阿水</a>, <a target="_blank" href="https://www.zhihu.com/people/wang-he-13-93">鱼遇雨欲语与余</a>-->
<!-- <a href="https://coggle.club/blog/30days-of-ml-202302">学习资料</a>##<a href="https://shimo.im/forms/uyIl0p5DArI5iL4h/fill">打卡链接</a>-->

## Part1 内容介绍

本月竞赛学习将以知识图谱中基础的图分析展开。图是复杂系统中常用的信息载体，可以表示现实中许多复杂关系，如社交网络、犯罪网络、交通网络等。在本次学习中我们将学习：

- networkx基础使用
- 图节点分析和中心性计算
- 图查询与图嵌入原理

上述步骤都是一个知识图谱算法工程师必备的基础，在本月我们将逐步从基础出发，逐步学习图算法。

## Part2 活动安排


* 免费学习活动，不会收取任何费用。
* **请各位同学添加下面微信，并回复【竞赛学习】，即可参与。**

![](https://cdn.coggle.club/coggle666_qrcode.png)


## Part3 积分说明和奖励

为了激励各位同学完成的学习任务，将学习任务根据难度进行划分，并根据是否完成进行评分难度高中低的任务分别分数为3、2和1。在完成学习后（本次活动，截止2月1），将按照积分顺序进行评选 Top3 的学习者。

打卡链接(可以重复提交)：[https://shimo.im/forms/uyIl0p5DArI5iL4h/fill](https://shimo.im/forms/uyIl0p5DArI5iL4h/fill)

**打卡可以写在一个地址，每次有新完成的可以重复提交打卡！**

| 昵称   | 任务1 | 任务2 | 任务3 | 任务4 | 任务5 | 任务6 |
| ------ | ----- | ----- | ----- | ----- | ----- | ----- |
| 阿水   | ✅     | ✅     |       |       |       |       |
| 徐乜乜 | ✅     |       |       |       |       |       |

Top1的学习者将获得以下**奖励**：
* Coggle 竞赛专访机会
* 百度音响随身版

Top2-3的学习者将获得以下**奖励**：
* Coggle 周边福利
* Coggle 竞赛专访机会

历史活动打卡链接，可以参考如下格式：
- [https://blog.csdn.net/weixin_42551154/article/details/125474519](https://blog.csdn.net/weixin_42551154/article/details/125474519)
- [https://blog.csdn.net/weixin_42551154/article/details/125481695](https://blog.csdn.net/weixin_42551154/article/details/125481695)


## Part4 图节点嵌入

### 背景介绍

图（Graphs）是一种对物体（objects）和他们之间的关系（relationships）建模的数据结构，物体以结点（nodes）表示，关系以边（edges）表示。图是复杂系统中常用的信息载体，可以表示现实中许多复杂关系，如社交网络、犯罪网络、交通网络等。

### 环境配置

实践环境建议以Python3.7+，且需要安装如下库：
- numpy
- pandas
- networkx
- igraph
- gensim

### 学习打卡

| 任务名称                       | 难度  |
| :----------------------------- | :---- |
| 任务1：图属性与图构造        | 低、1 |
| 任务2：图查询与遍历        | 低、2 |
| 任务3：节点中心性与应用        | 中、2 |
| 任务4：图节点嵌入算法（DeepWalk/node2vec）        | 高、3 |
| 任务5：图节点嵌入算法：LINE/SDNE        | 高、3 |
| 任务6：图节点嵌入算法：GraphGAN        | 高、3 |


- 任务1：图属性与图构造
    - 步骤1：导入networkx
    - 步骤2：加载Wiki数据集，包含来自 19 个类别的 2405 个文档和它们之间的 17981个边。
    - 步骤3：使用networkx构造上述有向图

```python
import pandas as pd

# 两列，分别为节点id，节点类别
group = pd.read_csv('http://mirror.coggle.club/dataset/graph-wiki/group.txt.zip', sep='\t', header=None)

# 两列，分别为出发节点id，目的节点id
graph = pd.read_csv('http://mirror.coggle.club/dataset/graph-wiki/graph.txt.zip', sep='\t', header=None)
```

- 任务2：图查询与遍历
    - 步骤1：使用networkx对Wiki数据集进行如下统计
        - 节点个数、边个数
        - 节点平均入度、出读
        - 存在指向自身节点的个数
    - 步骤2：对节点1397的深度5内进行深度和广度遍历
    - 步骤3：判断节点1573与节点1397之间是否存在联通性
- 任务3：节点中心性与应用
    - 步骤1：筛选入度/出度最大的Top50个节点，并对节点深度2以内的节点进行可视化；
    - 步骤2：使用PageRank筛选Top50个节点，并对节点深度2以内的节点进行可视化；
    - 步骤3：文本关键词提取算法RAKE
        - 使用jieba对文本进行分词
        - 单词作为节点，距离2以内的单词之间存在边
        - 计算单词打分$\text { wordDegree }(w) / \text { wordFrequency }(w)$
        - 按照打分统计每个文章Top10关键词
    - 步骤4：文本关键词提取算法TextRank
        - 使用jieba对文本进行分词
        - 单词作为节点，距离2以内的单词之间存在边
        - 使用PageRank对单词进行打分
        - 按照打分统计每个文章Top10关键词
```python
# 文章1
'''
一纸四季报，令芯片巨头英特尔一夜间股价重挫近6.5%，市值蒸发80亿美元，再度被AMD反超。

这份严重缩水的财报显示，英特尔在去年四季度营收大降32%至140亿美元，是2016年以来最低单季收入；净利润由三季度的10.2亿美元转为近7亿美元净亏损；毛利率更从2021年四季度的53.6%大幅下降至39.2%。

此番业绩“跳水”并非英特尔一家的一时失利，在全球PC出货量整体下滑的背景下，包括英特尔、AMD、英伟达、高通在内的芯片企业，均在过去一年里出现不同程度的收入与利润下滑，但英特尔的确是其中的重灾区。
'''

# 文章2
'''
2021年，成都地区生产总值已经超过1.99万亿元，距离2万亿门槛仅咫尺之间。在去年遭受多轮疫情冲击及高温限电冲击的不利影响下，2022年，成都市实现地区生产总值20817.5亿元，按可比价格计算，比上年增长2.8%。

成都因此成为第7个跨过GDP2万亿门槛的城市。目前，GDP万亿城市俱乐部中形成了4万亿、3万亿、2万亿和万亿这四个梯队。上海和北京在2021年跨过了4万亿，深圳2021年跨过了3万亿，重庆、广州、苏州和成都则是2万亿梯队。

在排名前十的城市中，预计武汉将超过杭州。武汉市政府工作报告称，预计2022年武汉地区生产总值达到1.9万亿元左右。而杭州市统计局公布的数据显示，杭州2022年地区生产总值为18753亿元。受疫情影响，武汉在2020年GDP排名退居杭州之后。
'''


# 文章3
'''
据报道，美国证券交易委员会（SEC）与特斯拉首席执行官埃隆·马斯克之间又起波澜。SEC正对马斯克展开调查，主要审查内容是，马斯克是否参与了关于特斯拉自动驾驶软件的不恰当宣传。

据知情人士透露，该机构正在调查马斯克是否就驾驶辅助技术发表了不恰当的前瞻声明。

特斯拉在2014年首次发布了其自动驾驶辅助功能，公司声称该功能可以让汽车在车道内自动转向、加速和刹车。目前所有特斯拉车辆都内置了该软件。
'''

```

- 任务4：图节点嵌入算法：`DeepWalk`/`node2vec`
    - 步骤1：使用DeepWalk对Wiki数据集节点嵌入，维度为100维
    - 步骤2：每个group中20%的节点作为验证集，剩余的作为训练集
    - 步骤3：使用节点嵌入向量 + 逻辑回归进行训练，并记录验证集准确率
    - 步骤4：使用node2vec重复上述操作
    - 步骤5：使用t-SNE将节点的DeepWalk/node2vec特征降维，绘制散点图，节点颜色使用group进行区分
- 任务5：图节点嵌入算法：`LINE`/`SDNE`
    - 步骤1：使用LINE对Wiki数据集节点嵌入，维度为100维
    - 步骤2：每个group中20%的节点作为验证集，剩余的作为训练集
    - 步骤3：使用节点嵌入向量 + 逻辑回归进行训练，并记录验证集准确率
    - 步骤4：使用SDNE重复上述操作
    - 步骤5：使用t-SNE将节点的LINE/SDNE特征降维，绘制散点图，节点颜色使用group进行区分
- 任务6：图节点嵌入算法：`GraphGAN`
    - 步骤1：使用GraphGAN对Wiki数据集节点嵌入，维度为100维
    - 步骤2：每个group中20%的节点作为验证集，剩余的作为训练集
    - 步骤3：使用节点嵌入向量 + 逻辑回归进行训练，并记录验证集准确率
    - 步骤4：使用t-SNE将节点的GraphGAN特征降维，绘制散点图，节点颜色使用group进行区分

### 推荐资料

- https://github.com/shenweichen/GraphEmbedding
- https://github.com/daicoolb/Awesome-Graph-Embedding
- https://github.com/thunlp/TADW/
- https://blog.csdn.net/Dark_Scope/article/details/74279582
- https://stellargraph.readthedocs.io/en/stable/demos/node-classification/index.html